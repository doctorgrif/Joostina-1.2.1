# @version $Id: htaccess.txt 5973 2006-12-11 01:26:33Z robs $
# @package Joostina
# @copyright Авторские права (C) 2007 Joostina Team.
# @localized Авторские права (C) 2005 Joom.Ru - Русский дом Joomla!
# @copyright Авторские права (C) 2005 Open Source Matters. Все права защищены.
# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL
# Joomla! - свободное программное обеспечение.
# @translator Sourpuss (Sourpuss@mail.ru)
# @upd doctorgrif (artem.grafov@gmail.com)
##
## Better website experience for IE users
<IfModule mod_setenvif.c>
<IfModule mod_headers.c>
	BrowserMatch MSIE ie
	Header set X-UA-Compatible "IE=Edge,chrome=1" env=ie
</IfModule>
</IfModule>
<IfModule mod_headers.c>
# Because X-UA-Compatible isn't sent to non-IE - to inform proxies that content changes based on UA.
	Header append Vary User-Agent
# Cache control is set only if mod_headers is enabled, so that's unncessary to declare.
</IfModule>
## Cross-domain AJAX requests
<IfModule mod_headers.c>
	Header set Access-Control-Allow-Origin "*"
</IfModule>
## Webfont access
<FilesMatch "\.(ttf|otf|eot|woff|font.css)$">
<IfModule mod_headers.c>
	Header set Access-Control-Allow-Origin "*"
</IfModule>
</FilesMatch>
## Proper MIME type for all files
# Audio
AddType audio/ogg oga ogg
AddType audio/mp4 m4a
# Video
AddType video/ogg ogv
AddType video/mp4 mp4 m4v
AddType video/webm webm
# Proper svg serving
AddType image/svg+xml svg svgz
AddEncoding gzip svgz
# Webfonts
AddType application/vnd.ms-fontobject eot
AddType font/truetype ttf
AddType font/opentype otf
AddType application/x-font-woff woff
# Assorted types
AddType image/x-icon ico
AddType image/webp webp
AddType text/cache-manifest appcache manifest
AddType text/x-component htc
AddType application/x-chrome-extension crx
AddType application/x-xpinstall xpi
AddType application/octet-stream safariextz
AddType text/x-vcard vcf
## Gzip compression
<IfModule mod_deflate.c>
# Force deflate for mangled headers
<IfModule mod_setenvif.c>
<IfModule mod_headers.c>
	SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\s,?\s(gzip|deflate)?|X{4,13}|~{4,13}|-{4,13})$ HAVE_Accept-Encoding
	RequestHeader append Accept-Encoding "gzip,deflate" env=HAVE_Accept-Encoding
</IfModule>
</IfModule>
# HTML/TXT/CSS/JavaScript/JSON/XML/HTC
<IfModule filter_module>
	FilterDeclare COMPRESS
	FilterProvider COMPRESS DEFLATE resp=Content-Type /text/(html|css|javascript|plain|x(ml|-component))/
	FilterProvider COMPRESS DEFLATE resp=Content-Type /application/(javascript|json|xml|x-javascript)/
	FilterChain COMPRESS
	FilterProtocol COMPRESS change=yes;byteranges=no
</IfModule>
<IfModule !mod_filter.c>
# Legacy versions of Apache
	AddOutputFilterByType DEFLATE text/html text/plain text/css application/json
	AddOutputFilterByType DEFLATE text/javascript application/javascript application/x-javascript 
	AddOutputFilterByType DEFLATE text/xml application/xml text/x-component
</IfModule>
# Webfonts and SVG:
<FilesMatch "\.(ttf|otf|eot|svg)$" >
	SetOutputFilter DEFLATE
</FilesMatch>
</IfModule>
## Expires headers
<IfModule mod_expires.c>
	ExpiresActive on
	ExpiresDefault "access plus 1 month"
# cache.appcache needs re-requests in FF 3.6
	ExpiresByType text/cache-manifest "access plus 0 seconds"
# Html 
	ExpiresByType text/html "access plus 0 seconds"
# Data
	ExpiresByType text/xml "access plus 0 seconds"
	ExpiresByType application/xml "access plus 0 seconds"
	ExpiresByType application/json "access plus 0 seconds"
# RSS feed
	ExpiresByType application/rss+xml "access plus 1 hour"
# Favicon (cannot be renamed)
	ExpiresByType image/x-icon "access plus 1 week" 
# Media: images, video, audio
	ExpiresByType image/gif "access plus 1 month"
	ExpiresByType image/png "access plus 1 month"
	ExpiresByType image/jpg "access plus 1 month"
	ExpiresByType image/jpeg "access plus 1 month"
	ExpiresByType video/ogg "access plus 1 month"
	ExpiresByType audio/ogg "access plus 1 month"
	ExpiresByType video/mp4 "access plus 1 month"
	ExpiresByType video/webm "access plus 1 month"
# HTC files (css3pie)
	ExpiresByType text/x-component "access plus 1 month"
# Webfonts
	ExpiresByType font/truetype "access plus 1 month"
	ExpiresByType font/opentype "access plus 1 month"
	ExpiresByType application/x-font-woff "access plus 1 month"
	ExpiresByType image/svg+xml "access plus 1 month"
	ExpiresByType application/vnd.ms-fontobject "access plus 1 month"
# CSS and JavaScript
	ExpiresByType text/css "access plus 1 year"
	ExpiresByType application/javascript "access plus 1 year"
	ExpiresByType text/javascript "access plus 1 year"
	<IfModule mod_headers.c>
		Header append Cache-Control "public"
	</IfModule>
</IfModule>
## ETag removal
<IfModule mod_headers.c>
	Header unset ETag
</IfModule>
# Since we're sending far-future expires, we don't need ETags for static content.
FileETag None
## Stop screen flicker in IE on CSS rollovers
#BrowserMatch "MSIE" brokenvary=1
#BrowserMatch "Mozilla/4.[0-9]{2}" brokenvary=1
#BrowserMatch "Opera" !brokenvary
#SetEnvIf brokenvary 1 force-no-vary
## Start rewrite engine. Turning on the rewrite engine is necessary for the following rules and features.
# FollowSymLinks must be enabled for this to work.
<IfModule mod_rewrite.c>
	Options +FollowSymlinks
	RewriteEngine On
	# RewriteRule (\.js|\.css)$ /cache/jscss.php [L]
</IfModule>
## Suppress or force the "www." at the beginning of URLs.
# Option 1: "www.domain.com->domain.com" 
#<IfModule mod_rewrite.c>
#	RewriteCond %{HTTPS} !=on
#	RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
#	RewriteRule ^(.*)$ http://%1/$1 [R=301,L]
#</IfModule>
# Option 2: "domain.com->www.domain.com". Be aware that the following rule might not be a good idea
# if you use "real" subdomains for certain parts of your website.
#<IfModule mod_rewrite.c>
#	RewriteCond %{HTTPS} !=on
#	RewriteCond %{HTTP_HOST} !^www\..+$ [NC]
#	RewriteCond %{HTTP_HOST} (.+)$ [NC]
#	RewriteRule ^(.*)$ http://www.%1/$1 [R=301,L]
#</IfModule>
## Built-in filename-based cache busting.
#<IfModule mod_rewrite.c>
	#RewriteCond %{REQUEST_FILENAME} !-f
	#RewriteCond %{REQUEST_FILENAME} !-d
	#RewriteRule ^(.+)\.(\d+)\.(js|css|png|jpg|gif)$ $1.$3 [L]
	#Rules for Versioned Static Files
	#RewriteRule ^(js|scripts|css|images|i)/(.+)\.(.+)\.(js|css|jpg|gif|png)$ $1/$2.$4 [L]
#</IfModule>
## Prevent SSL cert warnings.
#<IfModule mod_rewrite.c>
#	RewriteCond %{SERVER_PORT} !^443
#	RewriteRule (.*) https://example-domain-please-change-me.com/$1 [R=301,L]
#</IfModule>
## Prevent 404 errors for non-existing redirected folders.
Options -MultiViews 
## Custom error page
# ErrorDocument 404 /404.html
## Encoding
AddDefaultCharset WINDOWS-1251
# Force UTF-8 for a number of file formats
# AddCharset utf-8 .css .js .json
## A little more security
Options -Indexes
# Block access to "hidden" directories whose names begin with a period.
#<IfModule mod_rewrite.c>
#	RewriteRule "(^|/)\." - [F]
#</IfModule>
# PHP directives
# php_flag register_globals Off
 php_value magic_quotes_gpc 1
# Rename session cookie to something else, than PHPSESSID
# php_value session.name sid
# Do not show you are using php
# php_flag expose_php Off
# Level of log detail - log all errors
# php_value error_reporting -1
# Write errors to log file
# php_flag log_errors On
# Do not display errors in browser (production - Off, development - On)
 php_flag display_errors On
# Do not display startup errors (production - Off, development - On)
 php_flag display_startup_errors On
# Format errors in plain text
# php_flag html_errors Off
# Show multiple occurrence of error
# php_flag ignore_repeated_errors Off
# Show same errors from different sources
# php_flag ignore_repeated_source Off
# Size limit for error messages
# php_value log_errors_max_len 1024
# Don't precede error with string (doesn't accept empty string, use whitespace if you need)
# php_value error_prepend_string " "
# Don't prepend to error (doesn't accept empty string, use whitespace if you need)
# php_value error_append_string " "
# Increase cookie security
#<IfModule php5_module>
#	php_value session.cookie_httponly true
#</IfModule>
# RewriteBase /
## Стандартный SEF. Используйте эту секцию ТОЛЬКО для работы встроенного SEF.
# ВСЕ (RewriteCond) строки в этой секции необходимы только если на вашем сервере имеются каталоги с
# названиями content/ или component/, если такие отсутствуют, то закомментируйте эти строки.
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
# RewriteCond %{REQUEST_URI} ^(/component/option,com) [NC,OR] # опционально #
RewriteCond %{REQUEST_URI} (/|\.htm|\.php|\.html|/[^.]*)$ [NC]
RewriteRule ^(view/|content/|component/) index.php
## SEF сторонних разработчиков
# RewriteCond %{REQUEST_URI} ^(/component/option,com) [NC,OR] # опционально #
# RewriteCond %{REQUEST_URI} (/|\.htm|\.php|\.html|/[^.]*)$ [NC]
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule (.*) index.php